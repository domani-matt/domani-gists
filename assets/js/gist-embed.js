$(document).ready(function(){$(function(){var b="gist-";$('code[id*="'+b+'"]').each(function(){var d=$(this),j,e,f,c,h={},i="//gist.github.com";j=d.attr("id")||"";f=d.attr("data-file");c=d.attr("data-line");if(f){h.file=f;var g=f.split(".").join("-")}if(!j||j.indexOf("gist-")!==0){return false}d.css("display","block");j=j.substr(0,b.length)===b?j.replace(b,""):null;if(!isNaN(parseInt(j,10))){e=i+"/"+j+".json";d.html("Loading gist "+e+(h.file?", file: "+h.file:"")+"...");$.ajax({url:e,data:h,dataType:"jsonp",timeout:10000,success:function(o){if(o&&o.div){if(o.stylesheet&&$('link[href="'+o.stylesheet+'"]').length===0){var n=document.createElement("link"),p=document.getElementsByTagName("head")[0];n.type="text/css";n.rel="stylesheet";n.href=i+o.stylesheet;p.insertBefore(n,p.firstChild)}var q=Math.floor(Math.random()*100000);d.html("<div id='"+q+"'>"+o.div+"</div>");if(c){var m=a(c);$("#"+q).find(".line").each(function(l){if(($.inArray(l+1,m))==-1){$(this).remove()}});var k=1;$("#"+q).find(".line-number").each(function(l){if(($.inArray(l+1,m))==-1){$(this).remove()}else{$(this).html(k++)}})}if(d.attr("data-showFooter")&&d.attr("data-showFooter")=="false"){$("#"+q).find(".gist-meta").remove()}if(d.attr("data-showLineNumbers")&&d.attr("data-showLineNumbers")=="false"){$("#"+q).find(".line-numbers").remove()}$("#"+q).find(".gist-file").css("margin-bottom","0px")}else{d.html("Failed loading gist "+e)}},error:function(){d.html("Failed loading gist "+e)}})}else{d.html("Failed loading gist with incorrect id format: "+d.attr("id"))}})});function a(c){var b=[];var f=c.split(",");for(var e=0;e<f.length;e++){var d=f[e].split("-");if(d.length==2){for(var g=parseInt(d[0],10);g<=d[1];g++){b.push(g)}}else{if(d.length==1){b.push(parseInt(d[0],10))}}}return b}});